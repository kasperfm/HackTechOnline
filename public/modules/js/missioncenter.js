function viewCurrentMission(){selectMission(-1)}function acceptMission(n){$.ajax({context:this,type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/acceptMission",data:{_token:window.Laravel.csrfToken,missionId:n},success:function(n){!0===n.result&&($.notification({title:"Mission status",icon:"b",timeout:4500,color:"#fff",content:'Mission "'+n.title+'" has been accepted !'}),$(".mission_box").hide(),$(".abortmission_btn").show(),$(".currentmission_btn").show(),$(".accept_mission_link").hide())}})}function selectMission(n){$.ajax({type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/getMissionInfo",data:{_token:window.Laravel.csrfToken,missionId:n},success:function(t){var i,o;i=!0===t.current?"":'<br /><center><strong style="cursor: pointer; color: aqua;" class="flash animated infinite accept_mission_link" onclick="acceptMission('+n+')">CLICK HERE TO ACCEPT THE MISSION</strong></center>',null!=t.reward_item?(o='<br /><strong>Item reward:</strong> <span style="color: #fcff34;">'+t.reward_item.name+" ("+t.reward_item.type+")</span>",t.reward_item.dropchance<100&&(o+='<br /><strong>Chance for item:</strong> <span style="color: #fcff34;">'+t.reward_item.dropchance+"%</span>")):o="",t.title&&$.notification({title:t.title,icon:"b",color:"#fff",content:'<strong>Corporation:</strong> <span style="color: #fcff34;">'+t.corp_name+'</span><br /><strong>Trust points:</strong> <span style="color: #fcff34;">'+t.reward_trust+'</span><br /><strong>Credits reward:</strong> <span style="color: #fcff34;">$'+t.reward_credits+"</span>"+o+"<br /><strong>Mission:</strong> "+t.description+"<br />"+i})}})}function abortMission(){$.ajax({type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/abortMission",data:{_token:window.Laravel.csrfToken},success:function(n){!0===n&&($.notification({title:"Mission aborted",icon:"c",timeout:4500,color:"#fff",content:"Your current mission has been aborted!"}),$(".mission_box").show(),$(".abortmission_btn").hide(),$(".currentmission_btn").hide())}})}$(document).ready(function(){$(".wnd_missioncenter").height("auto"),$(".corp_info_btn").click(function(n){$.ajax({type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/getCorporationInfo",data:{_token:window.Laravel.csrfToken,corpId:$(".selectcorp").val()},success:function(n){n?$.notification({title:n.name,icon:"b",color:"#fff",content:n.description}):alert("Please select a corporation!")}})}),$(".selectcorp").change(function(){var n=$(".selectcorp").val();$.ajax({context:this,type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/getMissionList",data:{_token:window.Laravel.csrfToken,corpId:n},success:function(n){!0===n.result?($(".mission_list").html(""),$.each(n.missions,function(n,t){$(".mission_list").append('<li class="new_mission" style="cursor: pointer;" onclick="selectMission('+t.id+')" rel="'+t.id+'">'+t.title+"</li>")})):$(".mission_list").html("<li>No missions available...</li>"),$(".mission-limit-wrapper").animate({height:$(".mission_list").height()+5},600),$(".wnd_missioncenter").height("auto")}})})});
