function viewCurrentMission(){selectMission(-1)}function acceptMission(t){$.ajax({context:this,type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/acceptMission",data:{_token:window.Laravel.csrfToken,missionId:t},success:function(t){!0===t.result&&($.notification({title:"Contract status",icon:"b",timeout:4500,color:"#fff",content:'Contract "'+t.title+'" has been accepted !'}),$(".mission_box").hide(),$(".abortmission_btn").show(),$(".currentmission_btn").show(),$(".accept_mission_link").hide())}})}function selectMission(t){$.ajax({type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/getMissionInfo",data:{_token:window.Laravel.csrfToken,missionId:t},success:function(n){var o,e;o=!0===n.current?"":'<br /><center><strong style="cursor: pointer; color: aqua;" class="flash animated infinite accept_mission_link" onclick="acceptMission('+t+')">CLICK HERE TO ACCEPT THE CONTRACT</strong></center>',null!=n.reward_item?(e='<br /><strong>Item reward:</strong> <span style="color: #fcff34;">'+n.reward_item.name+" ("+n.reward_item.type+")</span>",n.reward_item.dropchance<100&&(e+='<br /><strong>Chance for item:</strong> <span style="color: #fcff34;">'+n.reward_item.dropchance+"%</span>")):e="",n.title&&$.notification({title:n.title,icon:"b",color:"#fff",content:'<strong>Corporation:</strong> <span style="color: #fcff34;">'+n.corp_name+'</span><br /><strong>Trust points:</strong> <span style="color: #fcff34;">'+n.reward_trust+'</span><br /><strong>Credits reward:</strong> <span style="color: #fcff34;">$'+n.reward_credits+"</span>"+e+"<br /><strong>Task:</strong> "+n.description+"<br />"+o})}})}function abortMission(){$.ajax({type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/abortMission",data:{_token:window.Laravel.csrfToken},success:function(t){!0===t&&($.notification({title:"Contract aborted",icon:"c",timeout:4500,color:"#fff",content:"Your current contract has been cancelled !"}),$(".mission_box").show(),$(".abortmission_btn").hide(),$(".currentmission_btn").hide())}})}$(document).ready((function(){$(".wnd_missioncenter").height("auto"),$(".corp_info_btn").click((function(t){$.ajax({type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/getCorporationInfo",data:{_token:window.Laravel.csrfToken,corpId:$(".selectcorp").val()},success:function(t){t?$.notification({title:t.name,icon:"b",color:"#fff",content:t.description}):alert("Please select a corporation!")}})})),$(".selectcorp").change((function(){var t=$(".selectcorp").val();$.ajax({context:this,type:"POST",dataType:"json",cache:!1,url:"/game/module/MissionCenter/ajax/getMissionList",data:{_token:window.Laravel.csrfToken,corpId:t},success:function(t){!0===t.result?($(".mission_list").html(""),$.each(t.missions,(function(t,n){$(".mission_list").append('<li class="new_mission" style="cursor: pointer;" onclick="selectMission('+n.id+')" rel="'+n.id+'">'+n.title+"</li>")}))):$(".mission_list").html("<li>No missions available...</li>"),$(".mission-limit-wrapper").animate({height:$(".mission_list").height()+5},600),$(".wnd_missioncenter").height("auto")}})}))}));
